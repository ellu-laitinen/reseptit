[{"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\index.js":"1","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\App.js":"2","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\aws-exports.js":"3","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\NavBar\\NavBar.js":"4","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Theme\\theme.js":"5","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Breakfasts\\Breakfasts.js":"6","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Lunch\\Lunch.js":"7","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Dinner\\Dinner.js":"8","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Snacks\\Snacks.js":"9","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\RecipeCard.js":"10","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\graphql\\queries.js":"11","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\graphql\\mutations.js":"12","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\FullRecipe\\FullRecipeCard.js":"13","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\FullRecipe\\FullRecipe.js":"14","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\EditRecipe\\EditRecipe.js":"15","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\EditRecipe\\EditRecipeCard.js":"16","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\AddRecipe\\AddRecipe.js":"17","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\AddRecipe\\AddRecipeCard.js":"18"},{"size":277,"mtime":1618291138818,"results":"19","hashOfConfig":"20"},{"size":1126,"mtime":1618291138818,"results":"21","hashOfConfig":"20"},{"size":852,"mtime":1618921078582,"results":"22","hashOfConfig":"20"},{"size":2324,"mtime":1618291138818,"results":"23","hashOfConfig":"20"},{"size":833,"mtime":1618291138818,"results":"24","hashOfConfig":"20"},{"size":3954,"mtime":1619175707202,"results":"25","hashOfConfig":"20"},{"size":4083,"mtime":1619075849807,"results":"26","hashOfConfig":"20"},{"size":4027,"mtime":1619075843874,"results":"27","hashOfConfig":"20"},{"size":4139,"mtime":1619075852931,"results":"28","hashOfConfig":"20"},{"size":1445,"mtime":1618809028437,"results":"29","hashOfConfig":"20"},{"size":2473,"mtime":1618921075911,"results":"30","hashOfConfig":"20"},{"size":3937,"mtime":1618921076019,"results":"31","hashOfConfig":"20"},{"size":1289,"mtime":1619082729336,"results":"32","hashOfConfig":"20"},{"size":3396,"mtime":1619159742451,"results":"33","hashOfConfig":"20"},{"size":4242,"mtime":1619178134138,"results":"34","hashOfConfig":"20"},{"size":3513,"mtime":1619176426789,"results":"35","hashOfConfig":"20"},{"size":2989,"mtime":1619172065533,"results":"36","hashOfConfig":"20"},{"size":2687,"mtime":1619090944791,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"x7nvjp",{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"40"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"40"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\index.js",[],["82","83"],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\App.js",["84"],"import \"./App.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Link,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { withAuthenticator } from \"@aws-amplify/ui-react\";\r\n\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nimport NavBar from \"./NavBar/NavBar\";\r\nimport Breakfasts from \"./Recipes/Breakfasts/Breakfasts\";\r\nimport Snacks from \"./Recipes/Snacks/Snacks\";\r\nimport Lunch from \"./Recipes/Lunch/Lunch\";\r\nimport Dinner from \"./Recipes/Dinner/Dinner\";\r\n\r\nimport theme from \"./Theme/theme\";\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Router>\r\n        <NavBar />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Redirect to=\"/breakfast\" />\r\n          </Route>\r\n          <Route path=\"/breakfast\" exact component={Breakfasts}></Route>\r\n          <Route path=\"/snacks\" exact component={Snacks}></Route>\r\n          <Route path=\"/lunch\" exact component={Lunch}></Route>\r\n          <Route path=\"/dinner\" exact component={Dinner}></Route>\r\n        </Switch>\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default withAuthenticator(App);\r\n","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\aws-exports.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\NavBar\\NavBar.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Theme\\theme.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Breakfasts\\Breakfasts.js",["85","86"],"import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  useParams,\r\n  Link,\r\n  useRouteMatch,\r\n  Switch,\r\n  Route,\r\n  BrowserRouter as Router,\r\n} from \"react-router-dom\";\r\nimport RecipeCard from \"../RecipeCard\";\r\nimport { listBreakfasts } from \"../../graphql/queries\";\r\nimport { API, Storage } from \"aws-amplify\";\r\nimport {\r\n  deleteBreakfast as deleteBreakfastMutation,\r\n} from \"../../graphql/mutations\";\r\n\r\nimport FullRecipe from \"../FullRecipe/FullRecipe\";\r\nimport { Grid, Typography, Button } from \"@material-ui/core\";\r\nimport AddRecipe from \"../AddRecipe/AddRecipe\";\r\n\r\nconst Breakfasts = () => {\r\n  const [breakfast, setBreakfast] = useState([]);\r\n\r\n\r\n  //TOKENS\r\n  const [nextToken, setNextToken] = useState(undefined)\r\n  const [newNextToken, setNewNextToken] = useState()\r\n  const [prevToken, setPrevToken] = useState([])\r\n  \r\n  let match = useRouteMatch();\r\n\r\n \r\n  // get all brekfasts\r\n  useEffect(() => {\r\n   async function fetchBreakfasts ()  {\r\n      const apiData = await API.graphql({ query: listBreakfasts, variables: {nextToken, limit:3 } });\r\n      setNewNextToken(apiData.data.listBreakfasts.nextToken)\r\n// console.log(apiData.data.listBreakfasts.nextToken)\r\n      const breakfastFromAPI = apiData.data.listBreakfasts.items;\r\n   //   console.log(breakfastFromAPI)\r\n      await Promise.all(\r\n        breakfastFromAPI.map(async (recipe) => {\r\n \r\n          if (recipe.image) {\r\n            const image = await Storage.get(recipe.image);\r\n            recipe.image = image;\r\n               console.log(recipe.image);\r\n               console.log(image)\r\n          }\r\n       })\r\n       );\r\n      setBreakfast(breakfastFromAPI);\r\n\r\n\r\n    };\r\n    fetchBreakfasts();\r\n  }, [nextToken]); // re-renders when nextToken changes\r\n\r\n  console.log(breakfast)\r\n\r\nconst getNext = () => {\r\n  console.log(\"get next\")\r\n  setPrevToken((prev) => [...prev, nextToken])\r\n  setNextToken(newNextToken)\r\n  setNewNextToken(null)\r\n}\r\n\r\nconst getPrev = () => {\r\n // console.log(\"get previous\")\r\n  setNextToken(prevToken.pop());\r\nsetPrevToken([...prevToken])\r\nsetNewNextToken(null)\r\n}\r\n\r\n  // delete a recipe\r\n  async function deleteBreakfast({ id }) {\r\n    // filter: take every recipe from the existing array ->\r\n    // check if the id's match to the id of the chosen recipe ->\r\n    // if it's NOT a match, it's kept in the new array\r\n    const newBreakfastArray = breakfast.filter((recipe) => recipe.id !== id);\r\n    setBreakfast(newBreakfastArray);\r\n    //removes recipe from database\r\n    await API.graphql({\r\n      query: deleteBreakfastMutation,\r\n      variables: { input: { id } },\r\n    });\r\n  }\r\n\r\n  // create a new recipe\r\n\r\n  //console.log(breakfast)\r\n\r\n  // UPDATE recipe\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <Route path={\"/:category/:postId\"}>\r\n            <FullRecipe />\r\n          </Route>\r\n\r\n          <Route path={match.path}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\">Aamupalat</Typography>\r\n                <Grid item xs={12}>\r\n                  <Button onClick={getPrev}>Edelliset 3</Button>\r\n                  <Button onClick={getNext}>Seuraavat 3</Button>\r\n                </Grid>\r\n              </Grid>\r\n              {breakfast.map((item) => {\r\n                return (\r\n                  <Grid item xs={12} sm={4} key={item.id}>\r\n                    <RecipeCard\r\n                      title={item.title}\r\n                      img={item.image}\r\n                      link={`${match.url}/${item.id}`}\r\n                      remove={() => deleteBreakfast(item)}\r\n                    />\r\n                  </Grid>\r\n                );\r\n              })}\r\n              <Grid item xs={12}>\r\n                <AddRecipe\r\n          \r\n              \r\n                />\r\n      \r\n              </Grid>\r\n            </Grid>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Breakfasts;\r\n","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Lunch\\Lunch.js",["87"],"import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Link,\r\n  useRouteMatch,\r\n  Switch,\r\n  Route,\r\n  BrowserRouter as Router,\r\n} from \"react-router-dom\";\r\nimport { listLunchs } from \"../../graphql/queries\";\r\nimport {\r\n  deleteLunch as deleteLunchMutation,\r\n  createLunch as createLunchMutation,\r\n} from \"../../graphql/mutations\";\r\nimport { API, Storage } from \"aws-amplify\";\r\nimport RecipeCard from \"../RecipeCard\";\r\n\r\n\r\nimport FullRecipe from \"../FullRecipe/FullRecipe\";\r\n\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport AddRecipe from \"../AddRecipe/AddRecipe\";\r\n\r\nconst Lunch = () => {\r\n  const [lunch, setLunch] = useState([]);\r\n  const [ingredients, setIngredients] = useState([])\r\n  let match = useRouteMatch();\r\n  const initialState = {\r\n    title: \"\",\r\n    ingredients: \"\",\r\n    instructions: \"\",\r\n  };\r\n  const [lunchData, setLunchData] = useState(initialState);\r\n  const saveData = ({name, value}) => {\r\n    setLunchData({\r\n      ...lunchData,\r\n      [name]: value \r\n    })\r\n  }\r\n\r\n  const changeIngHandler = (e) => {\r\n    setIngredients({\r\n     \r\n      [e.target.name]:e.target.value\r\n    })\r\n  }\r\n  const addIng = (e) =>  {\r\n\r\n    e.preventDefault();\r\n    saveData({\r\n      name:\"ingredients\",\r\n      value: [...lunchData.ingredients, ingredients.ingredients]  \r\n    })\r\n\r\n  /*   const ings = breakfastData.ingredients.map((i) => {\r\n      return (\r\n        i.ingredients\r\n      )\r\n      \r\n    }) */\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchLunches();\r\n  }, []);\r\n\r\n  async function fetchLunches() {\r\n    const apiData = await API.graphql({ query: listLunchs });\r\n    const lunchFromAPI = apiData.data.listLunchs.items;\r\n    console.log(apiData.data.listLunchs.items);\r\n    await Promise.all(\r\n      lunchFromAPI.map(async (recipe) => {\r\n        if (recipe.image) {\r\n          const image = await Storage.get(recipe.image);\r\n          recipe.image = image;\r\n          //      console.log(recipe.image);\r\n        }\r\n      })\r\n    );\r\n    setLunch(lunchFromAPI);\r\n  }\r\n\r\n  async function deleteLunch({ id }) {\r\n    const newLunchArray = lunch.filter((recipe) => recipe.id !== id);\r\n    setLunch(newLunchArray);\r\n    await API.graphql({\r\n      query: deleteLunchMutation,\r\n      variables: { input: { id } },\r\n    });\r\n  }\r\n\r\n  // create a new recipe\r\n  async function createLunch() {\r\n    if (!lunchData.title || !lunchData.ingredients || !lunchData.instructions)\r\n      return;\r\n    let savedLunch = await API.graphql({\r\n      query: createLunchMutation,\r\n      variables: { input: lunchData },\r\n    });\r\n    if (lunchData.image) {\r\n      const savedImage = await Storage.get(lunchData.image);\r\n      savedLunch.data.createLunch.image = savedImage;\r\n    }\r\n    setLunch([...lunch, savedLunch.data.createLunch]);\r\n\r\n    setLunchData(initialState);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <Route path={\"/:category/:postId\"}>\r\n            <FullRecipe />\r\n          </Route>\r\n          <Route path={match.path}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\">Lounaat</Typography>\r\n              </Grid>\r\n              {lunch.map((item) => {\r\n                return (\r\n                  <Grid item xs={12} sm={4}>\r\n                    <RecipeCard\r\n                      title={item.title}\r\n                      img={item.image}\r\n                      link={`${match.url}/${item.id}`}\r\n                      remove={() => deleteLunch(item)}\r\n                    />\r\n                  </Grid>\r\n                );\r\n              })}\r\n\r\n              <Grid item xs={12}>\r\n                <AddRecipe\r\n                  recipeData={lunchData}\r\n                  setRecipeData={setLunchData}\r\n                  createRecipe={createLunch}\r\n                  category={\"lounas\"}\r\n                  addIng={addIng}\r\n                  changeIngHandler={changeIngHandler}\r\n               \r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lunch;\r\n","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Dinner\\Dinner.js",["88"],"import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Link,\r\n  useRouteMatch,\r\n  Switch,\r\n  Route,\r\n  BrowserRouter as Router,\r\n} from \"react-router-dom\";\r\nimport { listDinners } from \"../../graphql/queries\";\r\nimport { API, Storage } from \"aws-amplify\";\r\nimport {\r\n  deleteDinner as deleteDinnerMutation,\r\n  createDinner as createDinnerMutation,\r\n} from \"../../graphql/mutations\";\r\nimport RecipeCard from \"../RecipeCard\";\r\n\r\nimport AddRecipe from \"../AddRecipe/AddRecipe\";\r\n\r\nimport FullRecipe from \"../FullRecipe/FullRecipe\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\n\r\nconst Dinner = () => {\r\n  const [dinner, setDinner] = useState([]);\r\n  const [ingredients, setIngredients] = useState([])\r\n\r\n  let match = useRouteMatch();\r\n\r\n  const initialState = {\r\n    title: \"\",\r\n    ingredients: \"\",\r\n    instructions: \"\",\r\n  };\r\n  const [dinnerData, setDinnerData] = useState(initialState);\r\n\r\n  const saveData = ({name, value}) => {\r\n    setDinnerData({\r\n      ...dinnerData,\r\n      [name]: value \r\n    })\r\n  }\r\n\r\n  const changeIngHandler = (e) => {\r\n    setIngredients({\r\n     \r\n      [e.target.name]:e.target.value\r\n    })\r\n  }\r\n  const addIng = (e) =>  {\r\n\r\n    e.preventDefault();\r\n    saveData({\r\n      name:\"ingredients\",\r\n      value: [...dinnerData.ingredients, ingredients.ingredients] \r\n    })\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchDinners();\r\n  }, []);\r\n\r\n  async function fetchDinners() {\r\n    const apiData = await API.graphql({ query: listDinners });\r\n    const dinnerFromAPI = apiData.data.listDinners.items;\r\n    await Promise.all(\r\n      dinnerFromAPI.map(async (recipe) => {\r\n        if (recipe.image) {\r\n          const image = await Storage.get(recipe.image);\r\n          recipe.image = image;\r\n          //      console.log(recipe.image);\r\n        }\r\n      })\r\n    );\r\n    setDinner(dinnerFromAPI);\r\n    //  console.log(breakfastFromAPI);\r\n  }\r\n\r\n  // DELETE dinner\r\n\r\n  async function deleteDinner({ id }) {\r\n    const newDinnerArray = dinner.filter((recipe) => recipe.id !== id);\r\n    setDinner(newDinnerArray);\r\n    await API.graphql({\r\n      query: deleteDinnerMutation,\r\n      variables: { input: { id } },\r\n    });\r\n  }\r\n\r\n  // create a new recipe\r\n  async function createDinner() {\r\n    if (\r\n      !dinnerData.title ||\r\n      !dinnerData.ingredients ||\r\n      !dinnerData.instructions\r\n    )\r\n      return;\r\n    let savedDinner = await API.graphql({\r\n      query: createDinnerMutation,\r\n      variables: { input: dinnerData },\r\n    });\r\n    if (dinnerData.image) {\r\n      const image = await Storage.get(dinnerData.image);\r\n      savedDinner.data.createDinner.image = image;\r\n    }\r\n    setDinner([...dinner, savedDinner.data.createDinner]);\r\n\r\n    setDinnerData(initialState);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <Route path={\"/:category/:postId\"}>\r\n            <FullRecipe />\r\n          </Route>\r\n          <Route path={match.path}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\">Päiväruuat</Typography>\r\n              </Grid>\r\n              {dinner.map((item) => {\r\n                return (\r\n                  <Grid item xs={12} sm={4}>\r\n                    <RecipeCard\r\n                      title={item.title}\r\n                      img={item.image}\r\n                      link={`${match.url}/${item.id}`}\r\n                      remove={() => deleteDinner(item)}\r\n                    />\r\n                  </Grid>\r\n                );\r\n              })}\r\n              <Grid item xs={12}>\r\n                <AddRecipe\r\n                  recipeData={dinnerData}\r\n                  setRecipeData={setDinnerData}\r\n                  createRecipe={createDinner}\r\n                  category={\"päiväruoka\"}\r\n                  addIng={addIng}\r\n                  changeIngHandler={changeIngHandler}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dinner;\r\n","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\Snacks\\Snacks.js",["89"],"import React, { useEffect, useState } from \"react\";\r\nimport RecipeCard from \"../RecipeCard\";\r\nimport {\r\n  Link,\r\n  useRouteMatch,\r\n  Switch,\r\n  Route,\r\n  BrowserRouter as Router,\r\n} from \"react-router-dom\";\r\nimport { listSnacks } from \"../../graphql/queries\";\r\nimport {\r\n  deleteSnack as deleteSnacksMutation,\r\n  createSnack as createSnackMutation,\r\n} from \"../../graphql/mutations\";\r\nimport { API, Storage } from \"aws-amplify\";\r\nimport { Typography, Grid } from \"@material-ui/core\";\r\n\r\n\r\nimport FullRecipe from \"../FullRecipe/FullRecipe\";\r\nimport AddRecipe from \"../AddRecipe/AddRecipe\";\r\n\r\nconst Snacks = () => {\r\n  const [snacks, setSnacks] = useState([]);\r\n  let match = useRouteMatch();\r\n\r\n  const [ingredients, setIngredients] = useState([])\r\n\r\n  const initialState = {\r\n    title: \"\",\r\n    ingredients: ingredients,\r\n    instructions: \"\",\r\n  };\r\n  const [snackData, setSnackData] = useState(initialState);\r\n\r\n  const saveData = ({name, value}) => {\r\n    setSnackData({\r\n      ...snackData,\r\n      [name]: value \r\n    })\r\n  }\r\n\r\n  const changeIngHandler = (e) => {\r\n    setIngredients({\r\n     \r\n      [e.target.name]:e.target.value\r\n    })\r\n  }\r\n  const addIng = (e) =>  {\r\n\r\n    e.preventDefault();\r\n    saveData({\r\n      name:\"ingredients\",\r\n      value: [...snackData.ingredients, ingredients.ingredients]  \r\n    })\r\n\r\n  /*   const ings = breakfastData.ingredients.map((i) => {\r\n      return (\r\n        i.ingredients\r\n      )\r\n      \r\n    }) */\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchSnacks();\r\n  }, []);\r\n\r\n  async function fetchSnacks() {\r\n    const apiData = await API.graphql({ query: listSnacks });\r\n    const snackFromAPI = apiData.data.listSnacks.items;\r\n    await Promise.all(\r\n      snackFromAPI.map(async (recipe) => {\r\n        if (recipe.image) {\r\n          const image = await Storage.get(recipe.image);\r\n          recipe.image = image;\r\n          //      console.log(recipe.image);\r\n        }\r\n      })\r\n    );\r\n    setSnacks(snackFromAPI);\r\n    console.log(apiData.data.listSnacks.items);\r\n  }\r\n\r\n  async function deleteSnack({ id }) {\r\n    const newSnackArray = snacks.filter((recipe) => recipe.id !== id);\r\n    setSnacks(newSnackArray);\r\n    await API.graphql({\r\n      query: deleteSnacksMutation,\r\n      variables: { input: { id } },\r\n    });\r\n  }\r\n\r\n  // create a new recipe\r\n  async function createSnack() {\r\n    if (!snackData.title || !snackData.ingredients || !snackData.instructions)\r\n      return;\r\n    let savedSnack = await API.graphql({\r\n      query: createSnackMutation,\r\n      variables: { input: snackData },\r\n    });\r\n    if (snackData.image) {\r\n      const image = await Storage.get(snackData.image);\r\n      savedSnack.data.createSnack.image = image;\r\n    }\r\n    setSnacks([...snacks, savedSnack.data.createSnack]);\r\n\r\n    setSnackData(initialState);\r\n\r\n  }\r\n\r\n\r\n  console.log(snackData)\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <Route path={`/:category/:postId`}>\r\n            <FullRecipe />\r\n          </Route>\r\n          <Route path={match.path}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\">Ilta- ja välipalat</Typography>\r\n              </Grid>\r\n              {snacks.map((item) => {\r\n                return (\r\n                  <Grid item xs={12} sm={4}>\r\n                    <RecipeCard\r\n                      title={item.title}\r\n                      img={item.image}\r\n                      link={`${match.url}/${item.id}`}\r\n                      remove={() => deleteSnack(item)}\r\n                    />\r\n                  </Grid>\r\n                );\r\n              })}\r\n              <Grid item xs={12}>\r\n                <AddRecipe\r\n                  recipeData={snackData}\r\n                  setRecipeData={setSnackData}\r\n                  createRecipe={createSnack}\r\n                  category={\"välipala\"}\r\n                  addIng={addIng}\r\n                  changeIngHandler={changeIngHandler}\r\n               \r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Snacks;\r\n","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\RecipeCard.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\graphql\\queries.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\graphql\\mutations.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\FullRecipe\\FullRecipeCard.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\FullRecipe\\FullRecipe.js",["90","91","92","93","94","95"],"import React, { useEffect, useState } from \"react\";\r\nimport { useParams, Switch, useRouteMatch, Link, Route, BrowserRouter as Router } from \"react-router-dom\";\r\nimport { Card, Grid, Typography, Button } from \"@material-ui/core\";\r\n\r\nimport * as queries from \"../../graphql/queries\";\r\nimport { API, Storage } from \"aws-amplify\";\r\n\r\nimport EditRecipe from \"../EditRecipe/EditRecipe\";\r\nimport FullRecipeCard from \"./FullRecipeCard\";\r\n\r\nconst FullRecipe = () => {\r\n  const [loadedRecipe, setLoadedRecipe] = useState(\"\");\r\n  let match= useRouteMatch();\r\n\r\n  // useParams checks the parameters of the URL that match,\r\n  // e.g.  /:category/:postId\r\n  let { postId, category } = useParams();\r\n\r\n  // try switch case??\r\n  useEffect(() => {\r\n    if (category === \"breakfast\") {\r\n      console.log(category);\r\n      fetchBreakfast();\r\n    }\r\n    if (category === \"dinner\") {\r\n      fetchDinner();\r\n    }\r\n    if (category === \"lunch\") {\r\n      fetchLunch();\r\n    }\r\n    if (category === \"snacks\") {\r\n      fetchSnack();\r\n    }\r\n  }, []);\r\n\r\n  async function fetchBreakfast() {\r\n    console.log(\"fetching breakfasts\");\r\n    const apiData = await API.graphql({\r\n      query: queries.getBreakfast,\r\n      variables: { id: postId },\r\n    });\r\n    console.log(apiData);\r\n    const recipeFromAPI = apiData.data.getBreakfast;\r\n\r\n    if (recipeFromAPI.image) {\r\n      console.log(recipeFromAPI);\r\n      const image = await Storage.get(recipeFromAPI.image);\r\n      recipeFromAPI.image = image;\r\n    }\r\n    setLoadedRecipe(recipeFromAPI);\r\n  \r\n  }\r\n\r\n  async function fetchDinner() {\r\n    const apiData = await API.graphql({\r\n      query: queries.getDinner,\r\n      variables: { id: postId },\r\n    });\r\n    console.log(apiData);\r\n    const recipeFromAPI = apiData.data.getDinner;\r\n    console.log(recipeFromAPI);\r\n    if (recipeFromAPI.image) {\r\n      console.log(recipeFromAPI);\r\n      const image = await Storage.get(recipeFromAPI.image);\r\n      recipeFromAPI.image = image;\r\n    }\r\n    setLoadedRecipe(apiData.data.getDinner);\r\n  }\r\n\r\n  async function fetchLunch() {\r\n    const apiData = await API.graphql({\r\n      query: queries.getLunch,\r\n      variables: { id: postId },\r\n    });\r\n    console.log(apiData);\r\n    const recipeFromAPI = apiData.data.getLunch;\r\n    console.log(recipeFromAPI);\r\n    if (recipeFromAPI.image) {\r\n      console.log(recipeFromAPI);\r\n      const image = await Storage.get(recipeFromAPI.image);\r\n      recipeFromAPI.image = image;\r\n    }\r\n    setLoadedRecipe(apiData.data.getLunch);\r\n    console.log(apiData.data.getLunch);\r\n  }\r\n\r\n  async function fetchSnack() {\r\n    const apiData = await API.graphql({\r\n      query: queries.getSnack,\r\n      variables: { id: postId },\r\n    });\r\n    console.log(apiData);\r\n    const recipeFromAPI = apiData.data.getSnack;\r\n    console.log(recipeFromAPI);\r\n    if (recipeFromAPI.image) {\r\n      console.log(recipeFromAPI);\r\n      const image = await Storage.get(recipeFromAPI.image);\r\n      recipeFromAPI.image = image;\r\n    }\r\n    setLoadedRecipe(apiData.data.getSnack);\r\n    console.log(apiData.data.getSnack);\r\n  }\r\n\r\n\r\nconsole.log(match.url)\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path= {`${match.url}/edit/:id`}>\r\n<EditRecipe/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n<FullRecipeCard link={match.url} loadedRecipe={loadedRecipe} />\r\n    </Route>\r\n    </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default FullRecipe;\r\n","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\EditRecipe\\EditRecipe.js",["96"],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\EditRecipe\\EditRecipeCard.js",[],"C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\AddRecipe\\AddRecipe.js",["97"],"import React, { useState, useEffect } from \"react\";\r\nimport { API, Storage } from \"aws-amplify\";\r\nimport {\r\n  createBreakfast as createBreakfastMutation,\r\n} from \"../../graphql/mutations\";\r\nimport AddRecipeCard from \"./AddRecipeCard\";\r\n\r\nconst AddRecipe = () => {\r\n\r\n  const [breakfast, setBreakfast] = useState([]);\r\n  const [ingredients, setIngredients] = useState(\"\")\r\n\r\n   // FORM\r\n   const initialState = {\r\n    title: \"\",\r\n    ingredients: ingredients,\r\n    instructions: \"\",\r\n  };\r\n\r\n  const [breakfastData, setBreakfastData] = useState(initialState);\r\n  console.log(breakfastData)\r\n\r\n  const saveData = ({name, value}) => {\r\n    setBreakfastData({\r\n      ...breakfastData,\r\n      [name]: value \r\n    })\r\n  }\r\n  console.log(breakfastData)\r\n\r\n  const changeIngHandler = (e) => {\r\n    setIngredients({   \r\n\r\n      [e.target.name]:e.target.value\r\n    })\r\n  }\r\n\r\n  const addIng = (e) =>  {\r\n\r\n    saveData({\r\n      name:\"ingredients\",\r\n      value: [...breakfastData.ingredients, ingredients.ingredients] \r\n    })\r\n    setIngredients({value:\"\"})\r\n  }\r\n\r\n  async function onChange(e) {\r\n    if (!e.target.files[0]) return;\r\n    const file = e.target.files[0];\r\n    setBreakfastData({ ...breakfastData, image: file.name });\r\n    await Storage.put(file.name, file);\r\n    /*     fetchRecipes(); */\r\n  }\r\n\r\n  const recipeHandler = (e) => {\r\n    setBreakfastData({\r\n      ...breakfastData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const removeIng =(id)=> {\r\n    console.log(\"remove ing\")\r\n    console.log(id)\r\n    const newIngArray = breakfastData.ingredients.filter(\r\n      (item) => item !== id)\r\n    console.log(newIngArray)\r\n    saveData({\r\n      name:\"ingredients\",\r\n      value: [...newIngArray] \r\n    })\r\n  }\r\n\r\n  async function createBreakfast() {\r\n    // required fields\r\n    if (\r\n      !breakfastData.title ||\r\n      !breakfastData.ingredients ||\r\n      !breakfastData.instructions\r\n    )\r\n      return;\r\n  \r\n    let savedBreakfast = await API.graphql({\r\n      query: createBreakfastMutation,\r\n      variables: { input: breakfastData },  \r\n    });\r\n    if (breakfastData.image) {\r\n      console.log(breakfastData.image)\r\n      const image = await Storage.get(breakfastData.image);\r\n      breakfastData.image = image;\r\n      console.log(image)\r\n    }\r\n \r\n    console.log(breakfastData.image)\r\n    console.log(savedBreakfast)\r\n     setBreakfast([...breakfast, savedBreakfast.data.createBreakfast]);\r\n    // empty the form fields\r\n    console.log(\"clear fields\")\r\n\r\n    setBreakfastData({ title: \"\",\r\n    ingredients: \"\",\r\n    instructions: \"\"});\r\n\r\n    console.log(breakfastData)\r\n  }\r\n\r\n  return (\r\n    <AddRecipeCard recipeData={breakfastData}\r\n    setRecipeData={setBreakfastData}\r\n    createRecipe={createBreakfast}\r\n    category={\"aamupala\"}\r\n    addIng= {addIng}\r\n    changeIngHandler={changeIngHandler}\r\n  onChange={onChange}\r\n  recipeHandler ={recipeHandler}\r\n  ingredients={ingredients}\r\n  removeIng={removeIng} />\r\n  );\r\n};\r\n\r\nexport default AddRecipe;\r\n","C:\\Users\\elisabet\\Desktop\\reseptit\\src\\Recipes\\AddRecipe\\AddRecipeCard.js",[],{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","severity":1,"message":"103","line":6,"column":3,"nodeType":"104","messageId":"105","endLine":6,"endColumn":7},{"ruleId":"102","severity":1,"message":"106","line":3,"column":3,"nodeType":"104","messageId":"105","endLine":3,"endColumn":12},{"ruleId":"102","severity":1,"message":"103","line":4,"column":3,"nodeType":"104","messageId":"105","endLine":4,"endColumn":7},{"ruleId":"102","severity":1,"message":"103","line":3,"column":3,"nodeType":"104","messageId":"105","endLine":3,"endColumn":7},{"ruleId":"102","severity":1,"message":"103","line":3,"column":3,"nodeType":"104","messageId":"105","endLine":3,"endColumn":7},{"ruleId":"102","severity":1,"message":"103","line":4,"column":3,"nodeType":"104","messageId":"105","endLine":4,"endColumn":7},{"ruleId":"102","severity":1,"message":"103","line":2,"column":44,"nodeType":"104","messageId":"105","endLine":2,"endColumn":48},{"ruleId":"102","severity":1,"message":"107","line":3,"column":10,"nodeType":"104","messageId":"105","endLine":3,"endColumn":14},{"ruleId":"102","severity":1,"message":"108","line":3,"column":16,"nodeType":"104","messageId":"105","endLine":3,"endColumn":20},{"ruleId":"102","severity":1,"message":"109","line":3,"column":22,"nodeType":"104","messageId":"105","endLine":3,"endColumn":32},{"ruleId":"102","severity":1,"message":"110","line":3,"column":34,"nodeType":"104","messageId":"105","endLine":3,"endColumn":40},{"ruleId":"111","severity":1,"message":"112","line":34,"column":6,"nodeType":"113","endLine":34,"endColumn":8,"suggestions":"114"},{"ruleId":"111","severity":1,"message":"115","line":17,"column":6,"nodeType":"113","endLine":17,"endColumn":8,"suggestions":"116"},{"ruleId":"102","severity":1,"message":"117","line":1,"column":27,"nodeType":"104","messageId":"105","endLine":1,"endColumn":36},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'useParams' is defined but never used.","'Card' is defined but never used.","'Grid' is defined but never used.","'Typography' is defined but never used.","'Button' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'category', 'fetchBreakfast', 'fetchDinner', 'fetchLunch', and 'fetchSnack'. Either include them or remove the dependency array.","ArrayExpression",["120"],"React Hook useEffect has a missing dependency: 'fetchBreakfast'. Either include it or remove the dependency array.",["121"],"'useEffect' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},"Update the dependencies array to be: [category, fetchBreakfast, fetchDinner, fetchLunch, fetchSnack]",{"range":"126","text":"127"},"Update the dependencies array to be: [fetchBreakfast]",{"range":"128","text":"129"},[1022,1024],"[category, fetchBreakfast, fetchDinner, fetchLunch, fetchSnack]",[631,633],"[fetchBreakfast]"]